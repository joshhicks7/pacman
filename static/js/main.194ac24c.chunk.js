(this.webpackJsonppacman=this.webpackJsonppacman||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(8),c=n.n(o),i=(n(14),n(15),n(6)),s=n(5),u=n(9),f=n(2),l=(n(16),n(17),n(0));function h(t){var e=t.myMap;return Object(l.jsx)("div",{className:"Map",children:e.map((function(t,n){return Object(l.jsx)("div",{className:"map_row",children:t.map((function(t,a){return Object(l.jsx)("div",{className:"node",children:Object(l.jsx)("div",{className:p(e[n][a])})},"row_"+n+"_col_"+a)}))},"map_row_"+n)}))})}function p(t){return{0:"empty",1:"border",2:"pacman",3:"enemy",4:"fruit"}[t]}function j(){function t(t,e,n,a,r,o){this.position=t,this.distance=e,this.rootDistance=n,this.manhattanD=a,this.parent=r,this.discovered=o}function e(e){var n=Math.sqrt(Math.pow(Math.abs(e[1][0]-p.playerPos[0])+Math.abs(e[1][0]-p.playerPos[0]),2)),a=function(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t.length;a++)1!=t[a][n]&&e.push([a,n]);return e}(p.map),r=a[Math.floor(Math.random()*a.length)];if(0==e[2].length||!e[1]||n<=5)switch(console.log(w),w){case 0:e[1]=Object(f.a)(r);break;case 1:Math.random()>.5?e[1]=Object(f.a)(p.playerPos):e[1]=Object(f.a)(r);break;case 2:e[1]=Object(f.a)(p.playerPos)}return e[2]=Object(f.a)(function(e,n){var a=[],r=new Map;p.map.forEach((function(e,a){return e.forEach((function(e,o){1!=p.map[a][o]&&r.set([a,o].join(),new t([a,o],1/0,1/0,2*(Math.abs(n[1]-o)+Math.abs(n[0]-a)),void 0,void 0))}))}));var o=r.get(n.join()),c=r.get(e.join());if(c.rootDistance=0,e.join()==n.join()){var i,s=Math.floor(Math.random()*r.size),f=0,l=Object(u.a)(r.values());try{for(l.s();!(i=l.n()).done;){var h=i.value;if(f==s){n=h.position,o=h;break}f++}}catch(d){l.e(d)}finally{l.f()}}a.unshift(c);var j=function(){var t=a.pop();if("object"!=typeof t)return"continue";t.discovered=!0;var e=[];[[1,0],[0,1],[-1,0],[0,-1]].forEach((function(n){r.get([t.position[0]+n[0],t.position[1]+n[1]].join())&&(r.get([t.position[0]+n[0],t.position[1]+n[1]].join()).discovered||e.push(r.get([t.position[0]+n[0],t.position[1]+n[1]].join())))}));for(var n=0,o=e;n<o.length;n++){var c=o[n];c.rootDistance=Math.min(c.rootDistance,t.rootDistance+1);var i=Math.min(c.distance,c.rootDistance+c.manhattanD);i!==c.distance&&(c.distance=i,c.parent=t,a.includes(c)||a.unshift(c))}};for(;0==!a.length;)j();var v=o,b=[];for(;v.parent;)b.unshift(v.position),v=v.parent;return b}(e[0],e[1])),e[0]=e[2].shift(),e}var n=[[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,1,0,1],[1,0,1,0,1,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,3,0,1],[1,0,1,0,1,1,0,1,4,0,0,1,0,0,0,0,1,0,1,0,1,1,1],[1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,1,0,0,0,0,0,1],[1,0,1,1,0,1,3,1,0,1,0,1,0,1,1,1,1,1,1,1,1,0,1],[1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1],[1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,0,1],[1,0,1,0,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0,0,0,1],[1,0,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,1,1,1,1,1],[1,0,1,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,1],[1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,1],[1,0,1,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,1,1,1,1,1],[1,0,1,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,1,1,1,1,1,0,0,0,0,2,0,0,0,0,0,1,1,1,1,1],[1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,0,1,0,1,0,1,0,1,0,0,0,1,1,1,1,1,1,1,1,1],[1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1],[1,0,1,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]],r=n[0],o=Object(a.useState)({map:n[0],playerPos:function(t){for(var e=0;e<t.length;e++)for(var n=0;n<t.length;n++)if(2==t[n][e])return[n,e];return null}(r),fruitPos:function(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t.length;a++)0==t[a][n]&&e.push([a,n]);return e}(r),enemies:function(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t.length;a++)3==t[n][a]&&e.push([[n,a],[],[]]);return e}(r)}),c=Object(s.a)(o,2),p=c[0],j=c[1],v=Object(a.useState)([0,0]),b=Object(s.a)(v,2),d=b[0],m=b[1],O=Object(a.useState)(0),g=Object(s.a)(O,2),y=g[0],M=g[1],P=Object(a.useState)(0),x=Object(s.a)(P,2),w=x[0],k=x[1];Object(a.useEffect)((function(){var t=setInterval((function(){var t=Object(f.a)(p.enemies),e=r.map((function(t){return t.map((function(t){return t=0!=t&&1!=t?0:t}))}));p.fruitPos.forEach((function(t){return e[t[0]][t[1]]=4})),e[p.playerPos[0]][p.playerPos[1]]=2;var n=p.playerPos,a=[d[0]+n[0],[d[1]+n[1]]],o=p.map[a[0]][a[1]];t.forEach((function(t){var n=[t[0][0],t[0][1]];e[n[0]][n[1]]=3})),1!=o&&(n[0]+=d[0],n[1]+=d[1],4==o&&(M(y+1),e[a[0]][a[1]]=0,p.fruitPos=function(t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t.length;a++)4==t[a][n]&&e.push([a,n]);return e}(e))),j((function(a){return Object(i.a)(Object(i.a)({},a),{},{map:e,playerPos:n,fruitPos:p.fruitPos,enemies:t})}))}),50);return function(){return clearInterval(t)}}),[d]),Object(a.useEffect)((function(){var t=setInterval((function(){var t=p.map.map((function(t){return t.map((function(t){return t=0!=t&&1!=t?0:t}))})),n=[];p.enemies.forEach((function(a){var r=e(a);r?a=r:t[a[0][0]][a[0][1]]=3,n.push(a)})),j((function(t){return Object(i.a)(Object(i.a)({},t),{},{enemies:n})}))}),150);return function(){return clearInterval(t)}}),[]);return Object(l.jsxs)("div",{className:"game",onKeyPress:function(t){return function(t){var e=t.key.toLowerCase();switch(console.log(e),e){case"w":m([-1,0]);break;case"a":m([0,-1]);break;case"s":m([1,0]);break;case"d":m([0,1])}}(t)},tabIndex:0,children:[Object(l.jsx)(h,{myMap:p.map}),Object(l.jsx)("div",{children:y}),Object(l.jsxs)("select",{onChange:function(t){return function(t){console.log(t.target.value),k(parseInt(t.target.value)),console.log(w)}(t)},children:[Object(l.jsx)("option",{value:"0",children:"easy"}),Object(l.jsx)("option",{value:"1",children:"Medium"}),Object(l.jsx)("option",{value:"2",children:"Hard"})]})]})}var v=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(j,{})})},b=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(e){var n=e.getCLS,a=e.getFID,r=e.getFCP,o=e.getLCP,c=e.getTTFB;n(t),a(t),r(t),o(t),c(t)}))};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),b()}},[[19,1,2]]]);
//# sourceMappingURL=main.194ac24c.chunk.js.map